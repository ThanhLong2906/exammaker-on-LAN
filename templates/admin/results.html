<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <title>K·∫øt qu·∫£ thi</title>
        <style>
            /* Gi·ªØ background, header, footer y h·ªát trang th√™m c√¢u h·ªèi */
            body {
                font-family: Arial, sans-serif;
                margin: 60px auto 60px;
                max-width: 1200px;
                background: url('/static/img/Background.jpg') no-repeat center center fixed;
                background-size: cover;
                color: white;
                min-height: 100vh;
                position: relative;
            }

            header {
                display: flex;
                align-items: center;
                background: #003200;
                padding: 10px 20px;
                border-bottom: 3px solid yellow;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                z-index: 1000;
            }
            header img {
                height: 80px;
                margin-right: 15px;
            }
            header div {
                color: yellow;
            }
            header h1 {
                margin: 0;
                font-size: 25px;
                font-weight: bold;
            }
            header p {
                margin: 0;
                font-size: 18px;
                font-style: italic;
                color: #ffcc00;
            }

            footer {
                background: #003200;
                text-align: center;
                padding: 10px;
                color: #ccc;
                font-size: 14px;
                border-top: 3px solid yellow;
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
            }

            main {
                max-width: 900px;
                margin: 90px auto 60px; /* t·∫°o kho·∫£ng c√°ch tr√™n d∆∞·ªõi cho header v√† footer */
                padding: 20px;
                background: rgba(38, 63, 7, 0.9); /* m√†u xanh n√µn chu·ªëi ƒë·∫≠m ƒë·∫∑c */
                border-radius: 10px;
                color: black;
                text-align: center;
            }

            h2 {
                color: yellow;
                margin-bottom: 20px;
                text-align: center;
            }

            table {
                width: 100%;
                border-collapse: collapse;
                background-color: #9acd32; /* m√†u xanh n√µn chu·ªëi */
                color: rgb(250, 248, 248);
                margin: 0 auto;
            }

            table, th, td {
                border: 1px solid black;
            }

            th, td {
                padding: 10px;
                text-align: center;
                vertical-align: middle;
            }

            th {
                background-color: #6b8e23; /* m√†u xanh ƒë·∫≠m h∆°n cho header b·∫£ng */
                font-weight: bold;
            }

            a.back-link {
                display: inline-block;
                margin-top: 20px;
                color: yellow;
                font-weight: bold;
                text-decoration: none;
            }
            a.back-link:hover {
                text-decoration: underline;
            }
        </style>
    </head>
    <body>
        <header>
            <img src="/static/img/LOGO_f395.png" alt="Logo">
            <div>
                <h1>S∆Ø ƒêO√ÄN B·ªò BINH 395</h1>
                <p>‚Äúƒêo√†n k·∫øt, ti·∫øn c√¥ng, luy·ªán gi·ªèi, ƒë√°nh th·∫Øng‚Äù</p>
            </div>
        </header>

        <main>
            <h1 style="text-align: center; margin-top: 40px; color: yellow;">üìö Danh s√°ch k·∫øt qu·∫£ thi</h1>
            {% if results %}
            <table>
                <thead>
                    <tr>
                        <th>Th√≠ sinh</th>
                        <th>ƒê·ªÅ thi</th>
                        <th>Th·ªùi gian</th>
                        <th>ƒêi·ªÉm</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for r in results %}
                    <tr>
                        <td>{{ r.name }} ({{ r.rank }} - {{ r.unit }})</td>
                        <td>{{ r.exam_title }}</td>
                        <td>{{ r.submitted_at }}</td>
                        <td>{{ r.score }}</td>
                        <td>
                        <!-- N√∫t Chi ti·∫øt -->
                        <form action="{{ url_for('submission_detail', submission_id=r.id) }}" method="GET" style="display:inline;">
                            <button type="submit"
                                    style="background-color:rgb(28, 248, 86); color:white; border:none; padding:5px 10px; border-radius:5px; cursor:pointer;">
                                Chi ti·∫øt
                            </button>
                        </form>

                        <!-- N√∫t X√≥a -->
                        <form action="{{ url_for('delete_result', submission_id=r.id) }}" method="POST" style="display:inline;">
                            <button type="submit"
                                    onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a k·∫øt qu·∫£ n√†y?');"
                                    style="background-color:red; color:white; border:none; padding:5px 10px; border-radius:5px; cursor:pointer;">
                                X√≥a
                            </button>
                        </form>
                    </td>

                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            <br>
            <form action="{{ url_for('delete_all_results') }}" method="POST" style="display:inline;">      
                <button type="submit"
                        onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a H·∫æT k·∫øt qu·∫£ thi kh√¥ng?');"
                        style="background-color:red; color:white; border:none; padding:5px 10px; border-radius:5px; cursor:pointer;">
                    X√≥a t·∫•t c·∫£
                </button>
            </form>
            {% else %}
                <p><i>Ch∆∞a c√≥ th√≠ sinh d·ª± thi.</i></p>
            {% endif %}
            <a href="{{ url_for('competition_exam') }}" class="back-link">
                <button type="submit"
                        style="background-color:rgb(28, 248, 86); color:white; border:none; padding:5px 10px; border-radius:5px; cursor:pointer;">
                    ‚Üê Quay l·∫°i Trang qu·∫£n tr·ªã
                </button>
            </a>
            <a href="{{ url_for('competition_exams', comp_id=comp_id) }}" class="back-link">‚Üê Quay l·∫°i danh s√°ch ƒë·ªÅ thi</a>
        </main>

        <footer>¬© H·ªá th·ªëng thi tr·∫Øc nghi·ªám - B·∫£n quy·ªÅn ph·∫ßn m·ªÅm thu·ªôc v·ªÅ Ban Th√¥ng tin - Ph√≤ng Tham m∆∞u - S∆∞ ƒëo√†n 395.</footer>
    </body>
</html>
